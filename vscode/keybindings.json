// Place your key bindings in this file to override the defaults
[
  // START: CMD keybinding settings
  // use CMD+2 to open copilot
  {
    "key": "cmd+2",
    "command": "workbench.action.chat.open",
    "when": "!chatSetupHidden"
  },
  {
    "key": "cmd+2",
    "command": "workbench.panel.chat",
    "when": "workbench.panel.chat.view.copilot.active"
  },
  // END: CMD keybinding settings
  // disable ctrl+d to run debugger to support vim movement
  {
    "key": "ctrl+d",
    "command": "-workbench.action.debug.run",
    "when": "debuggersAvailable && !inDebugMode && !terminalFocus"
  },
  // use escape to focus active editor group
  {
    "key": "escape",
    "command": "workbench.action.focusActiveEditorGroup",
    "when": "!editorTextFocus && !terminalFocus"
  },
  {
    "key": "escape",
    "command": "extension.vim_escape",
    "when": "editorTextFocus && vim.active"
  },
  // use ctrl+e to open recent folders
  {
    "key": "ctrl+e",
    "command": "workbench.action.openRecent",
    "when": "!terminalFocus"
  },
  // START: Window settings
  // use ctrl+q to close window
  {
    "key": "ctrl+q",
    "command": "workbench.action.closeWindow"
  },
  {
    "key": "ctrl+q",
    "command": "workbench.action.closeWindow"
  },
  // END: Window settings
  // START: Editors settings
  // use ctrl+l and ctrl+h to navigate editor tabs
  {
    "key": "ctrl+l",
    "command": "workbench.action.focusNextGroup",
    "when": "editorTextFocus && vim.active && vim.use<C-l> && !inDebugRepl"
  },
  {
    "key": "ctrl+h",
    "command": "workbench.action.focusNextGroup",
    "when": "editorTextFocus && vim.active && vim.use<C-h> && !inDebugRepl"
  },
  // Move around editors
  {
    "key": "shift+h",
    "command": "workbench.action.previousEditor",
    "when": "editorTextFocus && vim.active && !inDebugRepl"
  },
  {
    "key": "shift+l",
    "command": "workbench.action.nextEditor",
    "when": "editorTextFocus && vim.active && !inDebugRepl"
  },
  // END: Editors settings
  // START: Terminal setting
  // add back ctrl+` to toggle terminal
  {
    "key": "ctrl+`",
    "command": "workbench.action.terminal.toggleTerminal",
    "when": "terminal.active"
  },
  // also use ctrl+/ to toggle terminal
  {
    "key": "ctrl+/",
    "command": "workbench.action.terminal.toggleTerminal",
    "when": "terminal.active"
  },
  // END: Terminal setting
  // START: use ctrl+n and ctrl+p to navigate list items
  {
    "key": "ctrl+n",
    "command": "list.focusDown",
    "when": "listFocus"
  },
  {
    "key": "ctrl+n",
    "command": "selectNextSuggestion",
    "when": "suggestWidgetMultipleSuggestions && suggestWidgetVisible && textInputFocus || suggestWidgetVisible && textInputFocus && !suggestWidgetHasFocusedSuggestion"
  },
  {
    "key": "ctrl+p",
    "command": "list.focusUp",
    "when": "listFocus"
  },
  {
    "key": "ctrl+p",
    "command": "selectPrevSuggestion",
    "when": "suggestWidgetMultipleSuggestions && suggestWidgetVisible && textInputFocus || suggestWidgetVisible && textInputFocus && !suggestWidgetHasFocusedSuggestion"
  },
  {
    "key": "ctrl+n",
    "command": "-workbench.files.action.focusFilesExplorer",
    "when": "sideBarVisible && !filesExplorerFocus && !suggestWidgetVisible && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+n",
    "command": "-workbench.files.action.focusFilesExplorer",
    "when": "!sideBarVisible && !suggestWidgetVisible && vim.mode != 'Insert'"
  },
  {
    "key": "ctrl+n",
    "command": "-editor.action.triggerSuggest",
    "when": "editorHasCompletionItemProvider && textInputFocus && !editorReadonly && !suggestWidgetVisible && vim.mode == 'Insert'"
  },
  {
    "key": "ctrl+n",
    "command": "-nerdtree.unfocusSidebarOrClose",
    "when": "filesExplorerFocus && sideBarVisible"
  },
  // END: use ctrl+n and ctrl+p to navigate list items
  // START: Explorer settings
  {
    "key": "a",
    "command": "workbench.files.action.createFileFromExplorer",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "d",
    "command": "moveFileToTrash",
    "when": "explorerResourceMoveableToTrash && explorerViewletVisible && filesExplorerFocus && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "y",
    "command": "filesExplorer.copy",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !inputFocus"
  },
  {
    "key": "p",
    "command": "filesExplorer.paste",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "r",
    "command": "renameFile",
    "when": "explorerViewletVisible && filesExplorerFocus && !explorerResourceIsRoot && !explorerResourceReadonly && !inputFocus"
  },
  {
    "key": "ctrl+v",
    "command": "explorer.openToSide",
    "when": "explorerViewletFocus && foldersViewVisible && !inputFocus"
  }
  // END: Explorer settings
]
