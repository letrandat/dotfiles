---
description: Rewrite code, START
auto_execution_mode: 1
---

You are an expert software engineer. You are assisting with code generation. I am pasting a complete [function/class/file/module] below, along with instructions for how it needs to be changed.

Your tasks:

1. Fully read and understand the entire pasted code to grasp its structure, dependencies, and logic.
2. Apply my described replacements, adjustments, and improvements _consistently across the entire unit_, not just line by line.
3. Output the full, rewritten version of the specified [function/class/file/module] â€” not a diff, patch, or partial snippet.
4. Preserve external interfaces, imports, and docstrings unless I instruct otherwise.

Important:

- Your output must be a complete, clean code block ready to replace the original version in full.

Now, here is the code to rewrite:
